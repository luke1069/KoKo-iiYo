<%= render "homes/sidebar" %>

<div class="container-fluid">
  <div class="row">

    <div class="col-2 col-md-1" style="height: 1px;"></div>
    <div class="col-10 col-md-11 my-2 mx-auto">
      
      <h3>地図検索</h3>
        <div id="map"></div>
        <style>
          #map {
            width: 100%;
            height: 500px;
          }
        </style>
        <script src="https://maps.googleapis.com/maps/api/js?key=<%=ENV["GOOGLE_MAP_KEY"]%>&callback=initMap" async defer></script>
        <script>
          import { MarkerClusterer } from "@googlemaps/markerclusterer";
          function initMap(){
            const map = new google.maps.Map(document.getElementById('map'), {
              zoom: 4,
              center:  {lat: 35.6803997, lng:139.7690174},  //東京
            });
            const infoWindow = new google.maps.InfoWindow({
              content: '',
              disableAutoPan: true,
            });
            const labels 
          }
        </script>
        
      <h3>キーワード検索</h3>
      <div class="container-fluid m-2 ">
        <%= render 'search', q: @q, url: search_index_posts_path %>
      </div>
    </div>

  </div>
</div>

<% if @check.present? %>
  <div class="container-fluid">
    <%= render "posts/post_lists", posts: @results, title:"検索結果" %>
  </div>
<% end %>
